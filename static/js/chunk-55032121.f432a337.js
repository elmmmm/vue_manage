(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55032121"],{"0de3":function(e,t,r){"use strict";r("e873")},1566:function(e,t,r){},"2aea":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("my-banner",{attrs:{keyword:e.keyword},on:{addOrder:e.addOrder}}),r("my-table",{attrs:{tableData:e.tableData,tableColumn:e.tableColumn,pagerConfig:e.pagerConfig},on:{changePage:e.getOrder,edit:e.editOrder,del:e.delOrder}}),r("order-dialog",{ref:"orderdialog",attrs:{title:e.title,rowData:e.rowData}})],1)},o=[],l=r("5530"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-table"},[r("el-table",{ref:"multipleTable",attrs:{data:e.tableData,size:"medium",stripe:"",border:""},on:{select:e.selectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"40"}}),e._l(e.tableColumn,(function(t){return r("el-table-column",{key:t.prop,attrs:{"show-overflow-tooltip":"",align:"center",label:t.label,width:t.width?t.width:100},scopedSlots:e._u([{key:"default",fn:function(a){return[r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(a.row[t.prop]))])]}}],null,!0)})})),r("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],2),r("div",{staticClass:"goods-footer"},[r("div",{staticStyle:{"margin-top":"6px"}},[r("el-button",{attrs:{size:"small"},on:{click:e.deleteSelection}},[e._v("批量删除")]),r("el-button",{attrs:{size:"small"},on:{click:e.toggleSelection}},[e._v("取消选择")])],1),r("el-pagination",{staticClass:"pager",attrs:{background:"",layout:"total, prev, pager, next",total:e.pagerConfig.totol,"current-page":e.pagerConfig.page,"page-size":7},on:{"update:currentPage":function(t){return e.$set(e.pagerConfig,"page",t)},"update:current-page":function(t){return e.$set(e.pagerConfig,"page",t)},"current-change":e.changePage}})],1)],1)},n=[],s=(r("d81d"),{name:"MyTable",props:{tableData:Array,tableColumn:Array,pagerConfig:Object},data:function(){return{selection:[]}},methods:{handleEdit:function(e){this.$emit("edit",e)},handleDelete:function(e){this.$emit("del",e)},changePage:function(e){this.$emit("changePage",e)},selectionChange:function(e,t){console.log(e),this.selection=e},toggleSelection:function(){this.$refs.multipleTable.clearSelection()},deleteSelection:function(){var e=this.selection.map((function(e,t,r){return e.id}));this.$parent.delOrder(e)}}}),d=s,c=(r("0de3"),r("2877")),u=Object(c["a"])(d,i,n,!1,null,"c5bd66cc",null),m=u.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("el-button",{attrs:{type:"primary",size:"medium",round:""},on:{click:e.addHandle}},[e._v("+ 新增")]),r("div",{staticClass:"right"},[r("el-input",{attrs:{size:"medium","prefix-icon":"el-icon-search",clearable:"",placeholder:"请输入卖家姓名"},on:{clear:e.clear},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}}),r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"medium",plain:""},on:{click:e.search}},[e._v("查询")])],1)],1)},g=[],f={props:{keyword:{type:String}},data:function(){return{val:this.keyword}},methods:{search:function(){console.log(this.$parent),this.$parent.keyword=this.val,this.$parent.getOrder()},clear:function(){this.$parent.keyword="",this.$parent.getOrder()},addHandle:function(){this.$emit("addOrder")}}},h=f,b=(r("5bee"),Object(c["a"])(h,p,g,!1,null,"7fd0ed09",null)),v=b.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{width:"40%",title:e.title,visible:e.dialogVisible,"before-close":e.clearForm},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.orderForm,rules:e.rules,size:"medium","label-width":"100px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goods"}},[r("el-input",{model:{value:e.orderForm.goods,callback:function(t){e.$set(e.orderForm,"goods",t)},expression:"orderForm.goods"}})],1),r("el-form-item",{attrs:{label:"卖家姓名",prop:"name"}},[r("el-input",{model:{value:e.orderForm.name,callback:function(t){e.$set(e.orderForm,"name",t)},expression:"orderForm.name"}})],1),r("el-form-item",{attrs:{label:"卖家昵称",prop:"nickname"}},[r("el-input",{model:{value:e.orderForm.nickname,callback:function(t){e.$set(e.orderForm,"nickname",t)},expression:"orderForm.nickname"}})],1),r("el-form-item",{attrs:{label:"卖家邮箱",prop:"email"}},[r("el-input",{model:{value:e.orderForm.email,callback:function(t){e.$set(e.orderForm,"email",t)},expression:"orderForm.email"}})],1),r("el-form-item",{attrs:{label:"收货地址",prop:"address"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.orderForm.address,callback:function(t){e.$set(e.orderForm,"address",t)},expression:"orderForm.address"}})],1),r("el-form-item",{attrs:{label:"发布时间",prop:"time"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.orderForm.time,callback:function(t){e.$set(e.orderForm,"time",t)},expression:"orderForm.time"}})],1),r("el-form-item",{attrs:{label:"当前状态",prop:"status"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.orderForm.status,callback:function(t){e.$set(e.orderForm,"status",t)},expression:"orderForm.status"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),r("el-button",{on:{click:e.clearForm}},[e._v("取 消")])],1)],1)},y=[],k={props:{title:{type:String,default:"添加订单"},rowData:{type:Object,default:{}}},data:function(){return{isShow:!1,dialogVisible:!1,innerVisible:!1,innerVisibleImg:!1,imgUrl:"",orderForm:{id:"",goods:"",name:"",nickname:"",email:"",address:"",time:"",status:""},groups:[],rules:{goods:[{required:!0,message:"请输入商品名称",trigger:"blur"}],name:[{required:!0,message:"请输入卖家姓名",trigger:"blur"}],address:[{required:!0,message:"请输入卖家地址",trigger:"blur"}]},options:[{value:"待付款",label:"待付款"},{value:"待发货",label:"待发货"},{value:"待收货",label:"待收货"},{value:"待评价",label:"待评价"}]}},watch:{rowData:function(e){console.log("监听数据变化",e),this.orderForm=e}},methods:{submitForm:function(){var e=this;"添加订单"==this.title?this.$http.addOrder(this.orderForm).then((function(t){200==t.data.code&&(e.$message({type:"success",message:"添加订单条目成功"}),e.$parent.getOrder(),e.clearForm())})):this.$http.editOrder(this.orderForm).then((function(t){200==t.data.code&&(e.$message({type:"success",message:"编辑订单条目成功"}),e.$parent.getOrder(),e.clearForm())}))},clearForm:function(){this.$refs["ruleForm"].resetFields(),this.orderForm={goods:"",name:"",nickname:"",email:"",address:"",time:"",status:""},this.dialogVisible=!1}},mounted:function(){console.log("订单对话框挂载",this.$refs)}},F=k,$=Object(c["a"])(F,w,y,!1,null,null,null),O=$.exports,C={name:"Order",components:{MyTable:m,MyBanner:v,OrderDialog:O},data:function(){return{keyword:"",tableData:[],tableColumn:[{prop:"id",label:"订单号",width:120},{prop:"goods",label:"商品名称",width:130},{prop:"name",label:"买家姓名",width:80},{prop:"nickname",label:"买家ID",width:110},{prop:"email",label:"买家邮箱",width:100},{prop:"address",label:"收货地址",width:110},{prop:"time",label:"时间",width:110},{prop:"status",label:"订单状态",width:80}],pagerConfig:{page:1,totol:30},title:"添加订单",rowData:{}}},methods:{getOrder:function(e){var t=this;e||(e=1,this.pagerConfig.page=1),this.$http.getOrderList({pagenum:e,keyword:this.keyword}).then((function(e){if(200==e.status){var r=e.data,a=r.count,o=r.goodslist;t.pagerConfig.totol=a,t.tableData=o}})).catch((function(e){console.log(e)}))},addOrder:function(){this.$refs.orderdialog.dialogVisible=!0,this.title="添加订单"},editOrder:function(e){this.$refs.orderdialog.dialogVisible=!0,this.title="编辑订单",this.rowData=Object(l["a"])({},e)},delOrder:function(e){var t=this;Array.isArray(e)||(e=[e.id]),this.$confirm("确认永久删除商品的数据？","警告",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delOrder({idArr:e}).then((function(e){200==e.data.code&&(t.$message({type:"success",message:"删除成功"}),t.getOrder(t.pagerConfig.page))})).catch((function(e){console.log(e)}))}))}},created:function(){this.getOrder()}},_=C,x=Object(c["a"])(_,a,o,!1,null,null,null);t["default"]=x.exports},"5bee":function(e,t,r){"use strict";r("1566")},e873:function(e,t,r){}}]);
//# sourceMappingURL=chunk-55032121.f432a337.js.map